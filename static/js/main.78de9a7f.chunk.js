(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(e,t,n){e.exports={preloader:"Preloader_preloader__2dvkO"}},127:function(e,t,n){e.exports={status:"ProfileStatus_status__SCDgG"}},128:function(e,t,n){e.exports={item:"Post_item__371Kq"}},14:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk"}},236:function(e,t,n){},237:function(e,t,n){},24:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogs_items:"Dialogs_dialogs_items__16PrC",active:"Dialogs_active__2sQhs",dialog:"Dialogs_dialog__lk_cw",messages:"Dialogs_messages__1w_Up",message:"Dialogs_message__1xIDh"}},25:function(e,t,n){e.exports={formControl:"FormsControl_formControl__WE9ql",error:"FormsControl_error__eY5EU",formSummaryError:"FormsControl_formSummaryError__3Uy6X"}},26:function(e,t,n){e.exports={user:"Users_user__1dQYj",image:"Users_image__2Sl9a",main:"Users_main__103N1",titleUsers:"Users_titleUsers__l2wTc",selectedPage:"Users_selectedPage__J63sh",numberPage:"Users_numberPage__1entT"}},282:function(e,t,n){"use strict";n.r(t);var s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))},r=n(9),a=n(38),i=n(5),o=n(121),c=n.n(o).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"81cb1eba-d16e-447b-b8c3-7c17cf6feee4"}}),u=function(e,t){return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},l=function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},j=function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},d=function(){return c.get("auth/me").then((function(e){return e.data}))},b=function(e,t,n){return c.post("auth/login",{email:e,password:t,rememberMe:n})},h=function(){return c.delete("auth/login").then((function(e){return e.data}))},p=function(){return c.get("security/get-captcha-url").then((function(e){return e}))},f=function(e){return c.get("profile/"+e)},g=function(e){return c.get("profile/status/"+e)},O=function(e){return c.put("profile/status/",{status:e})},m=function(){return c.put("/profile/photo",{image:"https://static.wikia.nocookie.net/mrrobot/images/5/5a/MRPoster.jpg/revision/latest?cb=20160625030409"})},x="ADD-POST",v="SET_USER_PROFILE",_="SET_NEW_STATUS",C={posts:[{id:1,message:"Hi, how are you?",likesCount:5},{id:2,message:"It's my first post",likesCount:23}],profile:null,status:""},w=function(e){return{type:v,profile:e}},P=function(e){return{type:_,newStatus:e}},S="ADD-NEW-MESSAGE",k={dialogs:[{id:1,name:"Lizok"},{id:2,name:"Oksik"},{id:3,name:"Dimon"},{id:4,name:"Denis"},{id:5,name:"Masha"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you?"},{id:3,message:"What is your name?"}]},y="FOLLOW",N="UNFOLLOW",U="SET_USERS",T="SET_CURRENT_PAGE",A="SET_TOTAL_COUNT",M="TOGGLE_IS_FETCHING",I="TOGGLE_IS_FOLLOWING_PROGRESS",E={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},F=function(e){return{type:y,userId:e}},D=function(e){return{type:N,userId:e}},L=function(e){return{type:M,isFetching:e}},B=function(e,t){return{type:I,isFollowing:e,userID:t}},z=n(40),R="SET_USER_DATA",G="SET_CAPTCHA",H={userId:null,email:null,login:null,isAuth:!1,captcha:void 0},W=function(e,t,n,s){return{type:R,data:{userId:e,email:t,login:n,isAuth:s}}},J=function(){return function(e){d().then((function(t){if(0===t.resultCode){var n=t.data,s=n.id,r=n.login,a=n.email;e(W(s,a,r,!0))}}))}},K=function(){return function(e){p().then((function(t){var n;0===t.data.resultCode&&e((n=t.data.url,{type:G,captch:n}))}))}},Y=n(122),q=n(120),Q=Object(r.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[{id:3,message:t.newPostBody,likesCount:0}])});case v:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case _:return Object(i.a)(Object(i.a)({},e),{},{status:t.newStatus});default:return e}},dialogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=t.newMessageBody;return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{id:4,message:n}])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case N:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case U:return Object(i.a)(Object(i.a)({},e),{},{users:Object(a.a)(t.users)});case T:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case A:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalCount});case M:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case I:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(a.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!=t.userID}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=Object(i.a)({},e);switch(t.type){case R:return Object(i.a)(Object(i.a)({},n),t.data);case G:return Object(i.a)(Object(i.a)({},n),{},{captcha:t.captch});default:return e}},form:q.a}),V=Object(r.e)(Q,Object(r.a)(Y.a));window.store=V;var X=n(1),Z=n.n(X),$=n(64),ee=n.n($),te=(n(236),n(237),n(14)),ne=n.n(te),se=n(12),re=n(0);function ae(){return Object(re.jsxs)("nav",{className:ne.a.nav,children:[Object(re.jsx)("div",{className:ne.a.item,children:Object(re.jsx)(se.b,{to:"/profile",activeClassName:ne.a.active,children:"Profile"})}),Object(re.jsx)("div",{className:"".concat(ne.a.item," ").concat(ne.a.active),children:Object(re.jsx)(se.b,{to:"/dialogs",activeClassName:ne.a.active,children:"Messages"})}),Object(re.jsx)("div",{className:ne.a.item,children:Object(re.jsx)(se.b,{to:"/news",activeClassName:ne.a.active,children:"News"})}),Object(re.jsx)("div",{className:ne.a.item,children:Object(re.jsx)(se.b,{to:"/music",activeClassName:ne.a.active,children:"Music"})}),Object(re.jsx)("div",{className:ne.a.item,children:Object(re.jsx)(se.b,{to:"/users",activeClassName:ne.a.active,children:"Users"})}),Object(re.jsx)("div",{className:ne.a.item,children:Object(re.jsx)(se.b,{to:"/settings",activeClassName:ne.a.active,children:"Settings"})})]})}var ie=n(10),oe=n(15);function ce(){return Object(re.jsxs)("div",{children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"News"}),Object(re.jsx)("meta",{name:"description",content:"News application"})]}),"News"]})}function ue(){return Object(re.jsxs)("div",{children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"Music"}),Object(re.jsx)("meta",{name:"description",content:"Music application"})]}),"Music"]})}function le(){return Object(re.jsxs)("div",{children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"Settings"}),Object(re.jsx)("meta",{name:"description",content:"Settings application"})]}),"Settings"]})}var je=n(30),de=n(31),be=n(33),he=n(32),pe=n(45),fe=n.n(pe);function ge(e){return Object(re.jsxs)("header",{className:fe.a.header,children:[Object(re.jsx)("div",{className:fe.a.image,children:Object(re.jsx)("img",{src:"https://art.pixilart.com/efa94fefad71c75.png",alt:""})}),Object(re.jsx)("div",{className:fe.a.loginBlock,children:e.isAuth?Object(re.jsxs)("div",{className:fe.a.logout,children:[e.login," - ",Object(re.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(re.jsx)(se.b,{className:fe.a.login,to:"/login",children:"Login"})})]})}var Oe=n(11),me=function(e){Object(be.a)(n,e);var t=Object(he.a)(n);function n(){return Object(je.a)(this,n),t.apply(this,arguments)}return Object(de.a)(n,[{key:"componentDidMount",value:function(){this.props.authThunkCreator(this.props.isAuth)}},{key:"render",value:function(){return Object(re.jsx)(ge,Object(i.a)(Object(i.a)({},this.props),{},{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logoutThunkCreator}))}}]),n}(Z.a.Component),xe=Object(Oe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{SetAuthUserDataAC:W,authThunkCreator:J,logoutThunkCreator:function(){return function(e){h().then((function(t){0===t.resultCode&&e(W(null,null,null,!1))}))}}})(me),ve=n(86),_e=n.n(ve),Ce=n.p+"static/media/loader.70c0e9b1.gif",we=n(126),Pe=n.n(we);function Se(){return Object(re.jsx)("div",{className:Pe.a.preloader,children:Object(re.jsx)("img",{src:Ce,style:{backgroundColor:"white"}})})}var ke=n(127),ye=n.n(ke),Ne=function(e){Object(be.a)(n,e);var t=Object(he.a)(n);function n(){var e;Object(je.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,value:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.value)},e.ChangeStatus=function(t){var n=t.currentTarget.value;e.setState({value:n})},e}return Object(de.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return this.state.editMode?Object(re.jsx)("div",{onBlur:this.deactivateEditMode,children:Object(re.jsx)("input",{value:this.state.value,onChange:this.ChangeStatus||"----",autoFocus:!0})}):Object(re.jsx)("div",{onDoubleClick:this.activateEditMode,className:ye.a.status,children:Object(re.jsx)("span",{children:this.state.value})})}}]),n}(Z.a.Component);function Ue(e){return e.profile?Object(re.jsxs)("div",{children:[Object(re.jsx)("div",{className:_e.a.image_block,children:Object(re.jsx)("img",{src:"https://www.yashcreations.com/wp-content/uploads/2016/08/web-development-Banner.jpg",alt:""})}),Object(re.jsxs)("div",{className:_e.a.description_block,children:[Object(re.jsx)("img",{src:e.profile.photos.large}),Object(re.jsxs)("div",{children:[Object(re.jsx)("h1",{children:e.profile.fullName}),Object(re.jsx)("p",{children:e.profile.aboutMe}),Object(re.jsxs)("p",{children:[e.profile.lookingForAJob?"\u0428\u0443\u043a\u0430\u044e \u0440\u043e\u0431\u043e\u0442\u0443 ":"\u041d\u0435 \u0448\u0443\u043a\u0430\u044e \u0440\u043e\u0431\u043e\u0442\u0443 ",Object(re.jsxs)("span",{children:["(",e.profile.lookingForAJobDescription,")"]})]}),Object(re.jsx)("div",{children:"Contacts:"}),Object(re.jsxs)("div",{children:[Object(re.jsx)("p",{children:e.profile.contacts.facebook}),Object(re.jsx)("p",{children:e.profile.contacts.vk}),Object(re.jsx)("p",{children:e.profile.contacts.github}),Object(re.jsx)("p",{children:e.profile.contacts.instagram}),Object(re.jsx)("p",{children:e.profile.contacts.twitter}),Object(re.jsx)("p",{children:e.profile.contacts.mainLink}),Object(re.jsx)("p",{children:e.profile.contacts.website}),Object(re.jsx)("p",{children:e.profile.contacts.youtube})]})]})]}),Object(re.jsx)(Ne,{status:e.status,changeStatusAC:e.changeStatusAC,updateStatus:e.updateStatus})]}):Object(re.jsx)(Se,{})}var Te=n(87),Ae=n.n(Te),Me=n(128),Ie=n.n(Me);function Ee(e){return Object(re.jsxs)("div",{className:Ie.a.item,children:[Object(re.jsx)("img",{src:"https://www.liveabout.com/thmb/pElYdfgKoydmsrso8fiU1wd-jO0=/1449x1449/smart/filters:no_upscale()/Avatar_12_HR_01-56a00ca93df78cafda9fd17c.jpg"}),e.message,Object(re.jsxs)("div",{children:[Object(re.jsx)("span",{children:"like"})," ",e.likesCount]})]})}var Fe=n(118),De=n(119),Le=function(e){if(!e)return"Field is required"},Be=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},ze=n(55),Re=n(25),Ge=n.n(Re),He=function(e){var t=e.input,n=e.meta,s=Object(ze.a)(e,["input","meta"]),r=n.touched&&n.error&&Ge.a.error;return Object(re.jsxs)("div",{className:Ge.a.formControl+" "+(r?Ge.a.error:""),children:[Object(re.jsx)("div",{children:Object(re.jsx)("textarea",Object(i.a)(Object(i.a)({},t),s))}),r&&Object(re.jsx)("span",{children:n.error})]})},We=function(e){var t=e.input,n=e.meta,s=Object(ze.a)(e,["input","meta"]),r=n.touched&&n.error&&Ge.a.error;return Object(re.jsxs)("div",{className:Ge.a.formControl+" "+(r?Ge.a.error:""),children:[Object(re.jsx)("div",{children:Object(re.jsx)("input",Object(i.a)(Object(i.a)({},t),s))}),r&&Object(re.jsx)("span",{children:n.error})]})},Je=Be(10),Ke=Object(De.a)({form:"profileMyPostsForm"})((function(e){return Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Fe.a,{placeholder:"Enter your post",name:"newPostBody",component:He,validate:[Le,Je]})}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Add"})})]})}));var Ye=Object(Oe.b)((function(e){return{posts:e.profilePage.posts}}),{addPostActionCreator:function(e){return{type:x,newPostBody:e}}})((function(e){var t=e.posts.map((function(e){return Object(re.jsx)(Ee,{message:e.message,likesCount:e.likesCount,id:e.id},e.id)}));return Object(re.jsxs)("div",{className:Ae.a.posts_block,children:[Object(re.jsx)("h3",{children:"My posts"}),Object(re.jsx)(Ke,{onSubmit:function(t){e.addPostActionCreator(t.newPostBody)}}),Object(re.jsx)("div",{className:Ae.a.posts,children:t})]})}));function qe(e){return document.title="Profile",Object(re.jsxs)("div",{children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"Profile"}),Object(re.jsx)("meta",{name:"description",content:"Profile application"})]}),Object(re.jsx)(Ue,{profile:e.profile,status:e.status,changeStatusAC:e.changeStatusAC,updateStatus:e.updateStatus}),Object(re.jsx)(Ye,{})]})}var Qe=function(e){return{isAuth:e.auth.isAuth}};function Ve(e){return Object(Oe.b)(Qe)((function(t){var n=t.isAuth,s=Object(ze.a)(t,["isAuth"]);return n?Object(re.jsx)(e,Object(i.a)({},s)):Object(re.jsx)(ie.a,{to:"/login"})}))}var Xe=function(e){Object(be.a)(n,e);var t=Object(he.a)(n);function n(){return Object(je.a)(this,n),t.apply(this,arguments)}return Object(de.a)(n,[{key:"componentDidMount",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.autorizedUserID),this.props.getMeProfileThunkCreator(e),this.props.getMeStatusThunkCreator(e),this.props.createPhotoThunkCreator()}},{key:"render",value:function(){return Object(re.jsxs)("div",{children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"Profile"}),Object(re.jsx)("meta",{name:"description",content:"Profile application"})]}),Object(re.jsx)(qe,Object(i.a)(Object(i.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,changeStatusAC:this.props.changeStatusAC,updateStatus:this.props.updateStatusThunkCreator}))]})}}]),n}(Z.a.Component),Ze=Object(r.d)(Object(Oe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserID:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:w,getMeProfileThunkCreator:function(e){return function(t){f(e).then((function(e){t(w(e.data))}))}},changeStatusAC:P,getMeStatusThunkCreator:function(e){return function(t){g(e).then((function(e){t(P(e.data))}))}},updateStatusThunkCreator:function(e){return function(t){O(e).then((function(n){0===n.data.resultCode&&t(P(e))}))}},createPhotoThunkCreator:function(){return function(e){m().then((function(e){}))}}}),ie.f,Ve)(Xe),$e=n(24),et=n.n($e);function tt(e){return Object(re.jsx)("div",{className:"".concat(et.a.dialog," ").concat(et.a.active),children:Object(re.jsx)(se.b,{to:"/dialogs/"+e.id,children:e.name})})}function nt(e){return Object(re.jsx)("div",{className:et.a.message,children:e.message})}var st=Be(100),rt=Object(De.a)({form:"dialogAddMessageForm"})((function(e){return Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Fe.a,{placeholder:"Enter your message",name:"newMessageBody",component:He,validate:[Le,st]})}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Send"})})]})}));var at=Object(r.d)(Object(Oe.b)((function(e){return{dialogsPage:e.dialogPage}}),(function(e){return{sendMessage:function(t){e({type:S,newMessageBody:t})}}})),Ve)((function(e){var t=e.dialogsPage.dialogs.map((function(e){return Object(re.jsx)(tt,{name:e.name,id:e.id},e.id)})),n=e.dialogsPage.messages.map((function(e){return Object(re.jsx)(nt,{message:e.message,id:e.id},e.id)}));return Object(re.jsxs)("div",{className:et.a.dialogs,children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"Dialogs"}),Object(re.jsx)("meta",{name:"description",content:"Dialogs application"})]}),Object(re.jsx)("div",{className:et.a.dialogs_items,children:t}),Object(re.jsxs)("div",{className:et.a.messages,children:[n,Object(re.jsx)(rt,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})})),it=n(26),ot=n.n(it),ct=n.p+"static/media/avatar.e5117e8e.jpg",ut=function(e){for(var t=e.users,n=e.pageSize,s=e.totalUsersCount,r=e.currentPage,a=(e.follow,e.onPageChanged),i=e.followingInProgress,o=(e.toggleIsFollowingProgress,e.unfollowUsersThunkCreator),c=e.followUsersThunkCreator,u=Math.ceil(s/n),l=[],j=1;j<=u;j++)l.push(j);var d=r;return Object(re.jsxs)("div",{className:ot.a.allUser,children:[Object(re.jsxs)(oe.a,{children:[Object(re.jsx)("title",{children:"Users"}),Object(re.jsx)("meta",{name:"description",content:"Users application"})]}),Object(re.jsx)("div",{className:ot.a.titleUsers,children:"Users"}),Object(re.jsx)("div",{children:l.map((function(e){if(e<d+5&&e>d-5||1===e||e===l.length)return Object(re.jsx)("span",{onClick:function(){return a(e)},className:r===e?ot.a.selectedPage:ot.a.numberPage,children:e})}))}),t.map((function(e){return Object(re.jsxs)("div",{className:ot.a.user,children:[Object(re.jsxs)("div",{className:ot.a.image,children:[Object(re.jsx)(se.b,{to:"/profile/"+e.id,children:Object(re.jsx)("img",{src:null!=e.photos.small?e.photos.small:ct,alt:""})}),e.followed?Object(re.jsx)("button",{disabled:i.some((function(t){return t===e.id})),onClick:function(){o(e.id)},children:"Unfollow"}):Object(re.jsx)("button",{disabled:i.some((function(t){return t===e.id})),onClick:function(){c(e.id)},children:"Follow"})]}),Object(re.jsxs)("div",{className:ot.a.main,children:[Object(re.jsxs)("div",{children:[Object(re.jsx)("div",{children:e.name}),Object(re.jsx)("div",{children:e.status})]}),Object(re.jsxs)("div",{className:ot.a.location,children:[Object(re.jsxs)("div",{children:[" ","u.location.city",","]}),Object(re.jsx)("div",{children:"u.location.country"})]})]})]})}))]})},lt=function(e){Object(be.a)(n,e);var t=Object(he.a)(n);function n(){var e;Object(je.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsersThunkCreator(t,e.props.pageSize)},e}return Object(de.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(re.jsxs)(re.Fragment,{children:[this.props.isFetching?Object(re.jsx)(Se,{}):null,Object(re.jsx)(ut,{users:this.props.users,pageSize:this.props.pageSize,follow:this.props.follow,unfollow:this.props.unfollow,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,unfollowUsersThunkCreator:this.props.unfollowUsersThunkCreator,followUsersThunkCreator:this.props.followUsersThunkCreator})]})}}]),n}(Z.a.Component),jt=Object(r.d)(Object(Oe.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:F,unfollow:D,setCurrentPage:function(e){return{type:T,currentPage:e}},toggleIsFollowingProgress:B,getUsersThunkCreator:function(e,t){return function(n){n(L(!0)),u(e,t).then((function(e){var t,s;n((t=e.items,{type:U,users:t})),n((s=e.totalCount,{type:A,totalCount:s})),n(L(!1))}))}},unfollowUsersThunkCreator:function(e){return function(t){t(B(!0,e)),j(e).then((function(n){0==n.resultCode&&t(D(e)),t(B(!1,e))}))}},followUsersThunkCreator:function(e){return function(t){t(B(!0,e)),l(e).then((function(n){0==n.resultCode&&t(F(e)),t(B(!1,e))}))}}}),Ve)(lt),dt=Object(De.a)({form:"login"})((function(e){return Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Fe.a,{placeholder:"Login",name:"login",component:We,validate:[Le]})}),Object(re.jsx)("div",{children:Object(re.jsx)(Fe.a,{type:"password",placeholder:"Password",name:"password",component:We,validate:[Le]})}),Object(re.jsxs)("div",{children:[Object(re.jsx)(Fe.a,{type:"checkbox",name:"rememberMe",component:We})," remember me"]}),e.error?Object(re.jsx)("div",{className:Ge.a.formSummaryError,children:e.error}):"",Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Login"})})]})})),bt=Object(Oe.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunkCreator:function(e,t,n){return function(s){b(e,t,n).then((function(e){if(0===e.data.resultCode)s(J());else if(10===e.data.resultCode)s(K());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some Error";s(Object(z.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(re.jsx)(ie.a,{to:"/profile"}):Object(re.jsxs)("div",{children:[Object(re.jsx)("h1",{children:"Login"}),Object(re.jsx)(dt,{onSubmit:function(t){e.loginThunkCreator(t.login,t.password,t.rememberMe)}})]})})),ht=function(){return Object(re.jsx)(se.a,{children:Object(re.jsxs)("div",{className:"app-wrapper",children:[Object(re.jsx)(xe,{}),Object(re.jsx)(ae,{}),Object(re.jsxs)("div",{className:"app-wrapper-content",children:[Object(re.jsx)(ie.b,{path:"/dialogs",render:function(){return Object(re.jsx)(at,{})}}),Object(re.jsx)(ie.b,{path:"/profile/:userId?",render:function(){return Object(re.jsx)(Ze,{})}}),Object(re.jsx)(ie.b,{path:"/news",render:function(){return Object(re.jsx)(ce,{})}}),Object(re.jsx)(ie.b,{path:"/music",render:function(){return Object(re.jsx)(ue,{})}}),Object(re.jsx)(ie.b,{path:"/users",render:function(){return Object(re.jsx)(jt,{})}}),Object(re.jsx)(ie.b,{path:"/settings",render:function(){return Object(re.jsx)(le,{})}}),Object(re.jsx)(ie.b,{path:"/login",render:function(){return Object(re.jsx)(bt,{})}})]})]})})};ee.a.render(Object(re.jsx)(Oe.a,{store:V,children:Object(re.jsx)(ht,{})}),document.getElementById("root")),s()},45:function(e,t,n){e.exports={header:"Header_header__1VCKf",image:"Header_image__1zcEI",login:"Header_login__3V3Qa",loginBlock:"Header_loginBlock__6mma5"}},86:function(e,t,n){e.exports={description_block:"ProfileInfo_description_block__187mR",image_block:"ProfileInfo_image_block__2czoV"}},87:function(e,t,n){e.exports={posts_block:"MyPosts_posts_block__12W53",posts:"MyPosts_posts__3ZUOo"}}},[[282,1,2]]]);
//# sourceMappingURL=main.78de9a7f.chunk.js.map